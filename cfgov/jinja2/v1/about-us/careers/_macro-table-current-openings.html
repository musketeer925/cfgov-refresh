{# ==========================================================================

   table_current_openings.render()

   ==========================================================================

   Description:

   Build a current jobs table given:

   careers: An object containing a list of job postings.

   ========================================================================== #}

{% macro render(careers) %}
{% import 'macros/time.html' as time %}

<table class="o-table
              o-table__row-links
              u-w100pct
              block
              block__flush-top">
    <thead>
        <tr>
            <th>
                TITLE
            </th>
            <th>
                POSTING CLOSES
            </th>
            <th>
                LOCATION
            </th>
        </tr>
    </thead>
    <tbody>
    {% for career in careers %}
        <tr>
            <td>
                <a href="{{url('careers:detail',args=[career.slug])}}">{{ career.title }}</a>
            </td>
            <td data-label="Posting Closes">
                {{ time.render(career.close_date, {'date':true}) }}
            </td>
            <td data-label="Location">
                {{ career.location_names|join(', ') }}
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% endmacro %}
